getwd()
ls()
Bikes1 <- read.csv("201901-citibike-tripdata.csv")
Bikes2 <- read.csv("201902-citibike-tripdata.csv")
Bikes3 <- read.csv("201903-citibike-tripdata.csv")
Bikes4 <- read.csv("201904-citibike-tripdata.csv")
Bikes5 <- read.csv("201905-citibike-tripdata.csv")
Bikes6 <- read.csv("201906-citibike-tripdata.csv")
Bikes7 <- read.csv("201907-citibike-tripdata.csv")
Bikes8 <- read.csv("201908-citibike-tripdata.csv")
all_bikes <- rbind(Bikes1,Bikes2,Bikes3,Bikes4,Bikes5,Bikes6,Bikes7,Bikes8)
Accidents <- read.csv("NYC_Accidents_2020.csv")
head(Accidents)
colnames(Accidents)
Bikes1 <- read.csv("JC-202001-citibike-tripdata.csv")
Bikes2 <- read.csv("JC-202002-citibike-tripdata.csv")
Bikes3 <- read.csv("JC-202003-citibike-tripdata.csv")
Bikes4 <- read.csv("JC-202004-citibike-tripdata.csv")
Bikes5 <- read.csv("JC-202005-citibike-tripdata.csv")
Bikes6 <- read.csv("JC-202006-citibike-tripdata.csv")
Bikes7 <- read.csv("JC-202007-citibike-tripdata.csv")
Bikes8 <- read.csv("JC-202008-citibike-tripdata.csv")
all_bikes <- rbind(Bikes1,Bikes2,Bikes3,Bikes4,Bikes5,Bikes6,Bikes7,Bikes8)
Accidents <- read.csv("NYC_Accidents_2020.csv")
head(Accidents)
Accidents_bikes <- Accidents[Accidents$NUMBER.OF.CYCLIST.INJURED!=0|Accidents$NUMBER.OF.CYCLIST.KILLED!=0]
Accidents_bikes <- Accidents[Accidents$NUMBER.OF.CYCLIST.INJURED!=0|Accidents$NUMBER.OF.CYCLIST.KILLED!=0,]
head(Accidents_bikes)
dim(Accidents_bikes)
dim(all_bikes)
library("dplyr")
group_by(Accidents_bikes, CRASH.DATE)
Accidents <- read.csv("NYC_Accidents_2020.csv")
Accidents_bikes <- Accidents[Accidents$NUMBER.OF.CYCLIST.INJURED!=0|Accidents$NUMBER.OF.CYCLIST.KILLED!=0,]
View(Bikes2)
Accidents_bikes%>%
group_by(CRASH.DATE) %>%
summarise(Count=n())
?plot
plot(Accicents_bikes)
plot(Accidents_bikes)
plot(Accidents_bikes[1:50])
plot(Accidents_bikes[1:50,])
plot(Accidents_bikes[1:20,])
plot(Accidents_bikes1$CRASH.DATE, Accidents_bikes1$Count)
Accidents_bikes%>%
group_by(CRASH.DATE) %>%
summarise(Count=n()) -> Accidents_bikes1
plot(Accidents_bikes1$CRASH.DATE, Accidents_bikes1$Count)
plot(Accidents_bikes1)
Accidents_bikes%>%
group_by(CRASH.DATE) %>%
summarise(Count=n()) -> Accidents_bikes1
head(Accidents_bikes1)
tail(Accidents_bikes1)
head(Accidents_bikes1[is.na(Accidents_bikes1$Count),])
is.na.data.frame(Accidents_bikes1)
Accidents_bikes1 <- Accidents_bikes1$CRASH.DATE=substr(Accidents_bikes1$CRASH.DATE,1,6)
Accidents_bikes%>%
group_by(CRASH.DATE) %>%
summarise(Count=n()) %>%
mutate(CRASH.DATE= substr(CRASH.DATE, 1,6))->Accidents_bikes1
head(Accidents_bikes1)
Accidents_bikes%>%
group_by(CRASH.DATE) %>%
summarise(Count=n()) %>%
mutate(CRASH.DATE= substr(CRASH.DATE, 1,7))->Accidents_bikes1
head(Accidents_bikes1)
Accidents_bikes%>%
group_by(CRASH.DATE) %>%
summarise(Count=n()) %>%
mutate(CRASH.DATE= substr(CRASH.DATE, 1,7))%>%
group_by(CRASH.DATE) ->Accidents_bikes1
head(Accidents_bikes1)
Accidents <- read.csv("NYC_Accidents_2020.csv")
Accidents_bikes <- Accidents[Accidents$NUMBER.OF.CYCLIST.INJURED!=0|Accidents$NUMBER.OF.CYCLIST.KILLED!=0,]
dim(Accidents_bikes)
Accidents <- read.csv("NYC_Accidents_2020.csv")
Accidents_bikes <- Accidents[Accidents$NUMBER.OF.CYCLIST.INJURED!=0|Accidents$NUMBER.OF.CYCLIST.KILLED!=0,]
Accidents_bikes%>%
mutate(CRASH.DATE= substr(CRASH.DATE, 1,7))%>%
group_by(CRASH.DATE)
Accidents <- read.csv("NYC_Accidents_2020.csv")
Accidents_bikes <- Accidents[Accidents$NUMBER.OF.CYCLIST.INJURED!=0|Accidents$NUMBER.OF.CYCLIST.KILLED!=0,]
Accidents_bikes%>%
mutate(CRASH.DATE= substr(CRASH.DATE, 1,7))%>%
group_by(CRASH.DATE)%>%
summarise(Count=n()) -> Accidents_bikes1
head(Accidents_bikes1)
plot(Accidents_bikes1)
?plot
plot(Accidents_bikes1$CRASH.DATE, Accidents_bikes1$Count)
require(ggplot2)
require(reshape2)
require(ggplot2)
head(Accidents_bikes1)
plot(Accidents_bikes1$CRASH.DATE, Accidents_bikes1$Count)
library(ggplot2)
library(reshape2)
install.packages("reshape2")
p <- ggplot(Accidents_bikes1, aes(x=CRASH.DATE, y=Count)) +
geom_line() +
xlab("")
p
head(Accidents_bikes1)
p <- ggplot(Accidents_bikes1, aes(x=CRASH.DATE, y=Count))
p <- ggplot(Accidents_bikes1, aes(x=CRASH.DATE, y=Count))
p <- ggplot(Accidents_bikes1, aes(x=CRASH.DATE, y=Count))
p
p <- ggplot(Accidents_bikes1, aes(x=CRASH.DATE, y=Count)) +
geom_line()
p
p <- ggplot(Accidents_bikes1, aes(x=CRASH.DATE, y=Count, group = 1)) +
geom_line()
p
all_bikes %>%
mutate(date = substr(starttime, 1, 7)) %>%
group_by(date) %>%
summarize(Count = n()) -> rides_bikes
head(rides_bikes)
p <- ggplot(Accidents_bikes1, aes(x=CRASH.DATE, y=Count, group = 1)) +
geom_line()
p
p <- ggplot(rides_bikes, aes(x=date, y=Count, group = 1)) +
geom_line()
p
res <- rides_bikes %>%
inner_join(Accidents_bikes1, by = c("date" = "CRASH.DATE"))
head(res)
res <- rides_bikes %>%
inner_join(Accidents_bikes1, by = c("date" = "CRASH.DATE")) %>%
mutate(crashes = Count.y, rides = Count.x)
head(res)
res <- rides_bikes %>%
inner_join(Accidents_bikes1, by = c("date" = "CRASH.DATE")) %>%
mutate(crashes = Count.y, rides = Count.x)
colnames(res)[colnames(res) == "Count.x"] <- "rides"
colnames(res)[colnames(res) == "Count.y"] <- "crashes"
head(res)
head(res)
res <- rides_bikes %>%
inner_join(Accidents_bikes1, by = c("date" = "CRASH.DATE")) %>%
mutate(crashes = Count.y, rides = Count.x)
colnames(res)[colnames(res) == "Count.x"] <- "rides"
res <- rides_bikes %>%
inner_join(Accidents_bikes1, by = c("date" = "CRASH.DATE"))
colnames(res)[colnames(res) == "Count.x"] <- "rides"
colnames(res)[colnames(res) == "Count.y"] <- "crashes"
head(res)
p <- ggplot(res, aes(x=date)) +
geom(aes(y = rides), color = "purple") +
geom(aes(y = crashes), color = "black")
p <- ggplot(res, aes(x=date)) +
geom_line(aes(y = rides), color = "purple") +
geom_line(aes(y = crashes), color = "black")
p
p <- ggplot(res, aes(x=date, group = 1)) +
geom_line(aes(y = rides), color = "purple") +
geom_line(aes(y = crashes), color = "black")
p
p_rides <- ggplot(res, aes(x=date, group = 1)) +
geom_line(aes(y = rides), color = "purple") x
p_rides <- ggplot(res, aes(x=date, group = 1)) +
geom_line(aes(y = rides), color = "purple")
p
p_crashes <- gglot(res, aes(x=date, group=1)) +
geom_line(aes(y=crashes), color = "black")
p <- ggplot(res, aes(x=date, group = 1)) +
geom_line(aes(y = rides), color = "purple")+
geom_line(aes(y = crashes), color = "black") +
scale_y_log10()
p
